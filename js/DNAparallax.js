/*!
* DNAparallax VERSION: 1.11.1
* Modify by DNA (Digital Newage Agency Co.,Ltd.)
 **/
!function(t){t.DNAparallax=function(e){function s(){g.scroll(function(){v=!0});try{"A"==t("body").attr("class").substring(2,3)&&TweenLite.ticker.addEventListener("tick",n)}catch(e){}}function i(t){var e={top:parseFloat(t.css("top")),left:parseFloat(t.css("left"))};return isNaN(e.top)&&(e.top=0),isNaN(e.left)&&(e.left=0),e}function n(){v&&(a(),v=!1)}function o(t){t.el.css("position",t.origPositioning.pos),t.el.css("top",t.origPositioning.top),t.el.css("left",t.origPositioning.left)}function r(t,e){t&&(t.totalProgress?t.totalProgress(e).pause():t.progress(e).pause())}function a(){var e,s,n,a=l.settings.isVertical?g.scrollTop()+h.y:g.scrollLeft()+h.x,p=l.settings.triggerAtCenter?l.settings.isVertical?-g.height()/2:-g.width()/2:0,c=u.length;for(e=0;c>e;e++){var v=u[e],P=v.target,w=v.offset;if("string"==typeof P?(f=t(P).offset()||{},s=l.settings.isVertical?f.top+h.y:f.left+h.x,w+=p):"number"==typeof P?s=P:t.isFunction(P)?s=P.call(this):(f=P.offset(),s=l.settings.isVertical?f.top+h.y:f.left+h.x,w+=p),s+=w,n=s+v.dur,a>s&&n>a&&"TWEENING"!==v.state&&(v.state="TWEENING",v.start=s,v.end=n),s>a&&"BEFORE"!==v.state&&v.reverse)l.settings.playoutAnimations||0===v.dur?v.tween.reverse():r(v.tween,0),v.state="BEFORE";else if(a>n&&"AFTER"!==v.state)l.settings.playoutAnimations||0===v.dur?v.tween.play():r(v.tween,1),v.state="AFTER";else if("TWEENING"===v.state){var E=!1;if(v.tween.repeat&&(E=-1===v.tween.repeat()),E){var y=v.tween.totalProgress();(null===v.playeadLastPosition||y===v.playeadLastPosition)&&(1===y?v.tween.yoyo()?v.tween.reverse():v.tween.totalProgress(0).play():v.tween.play()),v.playeadLastPosition=y}else r(v.tween,(a-v.start)/(v.end-v.start))}}var F=d.length;for(e=0;F>e;e++){var m=d[e],N=m.el;if("PINNED"!==m.state){var A=m.spacer.offset();"UPDATE"===m.state&&o(m),s=l.settings.isVertical?A.top+h.y:A.left+h.x,s+=m.offset,n=s+m.dur;var x=a>n&&"BEFORE"===m.state||s>a&&"AFTER"===m.state,T=a>s&&n>a;(T||x)&&(m.pushFollowers&&"static"===N.css("position")&&N.css("position","relative"),m.origPositioning={pos:N.css("position"),top:m.spacer.css("top"),left:m.spacer.css("left")},m.fixedPositioning={top:l.settings.isVertical?-m.offset:A.top,left:l.settings.isVertical?A.left:-m.offset},N.css("position","fixed"),N.css("top",m.fixedPositioning.top),N.css("left",m.fixedPositioning.left),m.pinStart=s,m.pinEnd=n,m.pushFollowers?l.settings.isVertical?m.spacer.height(m.dur+N.outerHeight(!0)):m.spacer.width(m.dur+N.outerWidth(!0)):"absolute"===m.origPositioning.pos?(m.spacer.width(0),m.spacer.height(0)):l.settings.isVertical?m.spacer.height(N.outerHeight(!0)):m.spacer.width(N.outerWidth(!0)),"UPDATE"===m.state?m.anim&&r(m.anim,0):m.onPin&&m.onPin("AFTER"===m.state),m.state="PINNED")}if("PINNED"===m.state)if(a<m.pinStart||a>m.pinEnd){var V=a<m.pinStart;m.state=V?"BEFORE":"AFTER",r(m.anim,V?0:1);var R=V?0:m.dur;l.settings.isVertical?m.spacer.height(m.pushFollowers?R:0):m.spacer.width(m.pushFollowers?R:0);var U=m.fixedPositioning.top-i(m.el).top,D=m.fixedPositioning.left-i(m.el).left;if(o(m),!m.pushFollowers||"absolute"===m.origPositioning.pos){var b;"relative"===m.origPositioning.pos?(b=parseFloat(l.settings.isVertical?m.origPositioning.top:m.origPositioning.left),isNaN(b)&&(b=0)):b=l.settings.isVertical?m.spacer.position().top:m.spacer.position().left;var I=l.settings.isVertical?"top":"left";m.el.css(I,b+R)}0!==U&&m.el.css("top",i(m.el).top-U),0!==D&&m.el.css("left",i(m.el).left-D),m.onUnpin&&m.onUnpin(!V)}else m.anim&&r(m.anim,(a-m.pinStart)/(m.pinEnd-m.pinStart))}}var l={},p={isVertical:!0,triggerAtCenter:!0,playoutAnimations:!0,reverse:!0};l.settings=t.extend({},p,e);var f,c,g=t(window),u=[],d=[],h={x:0,y:0},v=!1;return l.addTween=function(t,e,s,i,n){return e.pause(),u.push({target:t,tween:e,offset:i||0,dur:s||0,reverse:"undefined"!=typeof n?n:l.settings.reverse,state:"BEFORE"}),l},l.pin=function(e,s,i){"string"==typeof e&&(e=t(e));var n={offset:0,pushFollowers:!0};i=t.extend({},n,i),i.anim&&i.anim.pause();var o=t('<div class="DNAparallax-pin-spacer"></div>');return o.css("position","relative"),o.css("top",e.css("top")),o.css("left",e.css("left")),e.before(o),d.push({el:e,state:"BEFORE",dur:s,offset:i.offset,anim:i.anim,pushFollowers:i.pushFollowers,spacer:o,onPin:i.onPin,onUnpin:i.onUnpin}),l},l.updatePin=function(e,s,i){"string"==typeof e&&(e=t(e)),i.anim&&i.anim.pause();var n=d.length;for(c=0;n>c;c++){var o=d[c];if(e.get(0)===o.el.get(0)&&(s&&(o.dur=s),i.anim&&(o.anim=i.anim),i.offset&&(o.offset=i.offset),"undefined"!=typeof i.pushFollowers&&(o.pushFollowers=i.pushFollowers),i.onPin&&(o.onPin=i.onPin),i.onUnpin&&(o.onUnpin=i.onUnpin),(s||i.anim||i.offset)&&"PINNED"===o.state)){o.state="UPDATE";try{"A"==t("body").attr("class").substring(2,3)&&a()}catch(r){}}}return l},l.removeTween=function(t,e,s){var i=u.length;"undefined"==typeof s&&(s=!0);for(var n=0;i>n;n++){var o=u[n];o.target!==t||e&&o.tween!==e||(u.splice(n,1),s&&r(o.tween,0),i--,n--)}return l},l.removePin=function(e,s){"string"==typeof e&&(e=t(e)),"undefined"==typeof s&&(s=!0);for(var i=d.length,n=0;i>n;n++){var a=d[n];a.el.is(e)&&(d.splice(n,1),s&&(a.spacer.remove(),o(a),a.anim&&r(a.anim,0)),i--,n--)}return l},l.setScrollContainerOffset=function(t,e){return h.x=t,h.y=e,l},l.triggerCheckAnim=function(t){return t?a():v=!0,l},s(),l}}(jQuery);